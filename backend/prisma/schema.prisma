generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native"]
}

datasource db {
    provider = "postgresql"
    url = env("DATABASE_URL")
}


model User {
 id Int @id @default(autoincrement())
 email String @unique
 password String
 build Build[]
 token Token?
}


model Token {
  id Int @id @default(autoincrement())
  refreshToken String @unique
  user User @relation(fields: [userId], references: [id])
  userId Int @unique
}


model Build {
  id Int @id @default(autoincrement())
  date DateTime 
  fullPrice Int
  build Json
  user User @relation(fields: [userId], references: [id])
  userId Int
}

// model PartBuild {
//     id Int @id @default(autoincrement())
//     category String
//     components Json
//     isDisabled Boolean
//     isHidden Boolean
//     build Build @relation(fields: [buildId], references: [id])
//     buildId Int @unique
// }


